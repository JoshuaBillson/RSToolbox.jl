<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · RemoteSensingToolbox.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://JoshuaBillson.github.io/RemoteSensingToolbox.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>RemoteSensingToolbox.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Sensors"><span>Sensors</span></a></li><li class="toplevel"><a class="tocitem" href="#Visualization"><span>Visualization</span></a></li><li class="toplevel"><a class="tocitem" href="#Preprocessing"><span>Preprocessing</span></a></li><li class="toplevel"><a class="tocitem" href="#Land-Cover-Indices"><span>Land Cover Indices</span></a></li><li class="toplevel"><a class="tocitem" href="#Spectral-Analysis"><span>Spectral Analysis</span></a></li><li class="toplevel"><a class="tocitem" href="#Utilities"><span>Utilities</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="visualization_example/">Visualization</a></li><li><a class="tocitem" href="preprocessing_example/">Preprocessing</a></li><li><a class="tocitem" href="spectral_example/">Spectral Analysis</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="RemoteSensingToolbox"><a class="docs-heading-anchor" href="#RemoteSensingToolbox">RemoteSensingToolbox</a><a id="RemoteSensingToolbox-1"></a><a class="docs-heading-anchor-permalink" href="#RemoteSensingToolbox" title="Permalink"></a></h1><p><a href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl">RemoteSensingToolbox</a> is a pure Julia package intended to provide a collection of commonly used tools for working with remotely sensed imagery.</p><h1 id="Sensors"><a class="docs-heading-anchor" href="#Sensors">Sensors</a><a id="Sensors-1"></a><a class="docs-heading-anchor-permalink" href="#Sensors" title="Permalink"></a></h1><p>Sensors are julia structs that wrap a typical <code>Rasters.RasterStack</code> object to provide compatability with many <code>RemoteSensingToolbox</code> algorithms and methods.</p><p>The following methods are supported by all <code>AbstractSensor</code> types:</p><table><tr><th style="text-align: left"></th><th style="text-align: left"></th></tr><tr><td style="text-align: left"><code>Base.getindex</code></td><td style="text-align: left">return the layer correspinding to the given band name.</td></tr><tr><td style="text-align: left"><code>Base.length</code></td><td style="text-align: left">return the number of layers in the enclosed <code>Rasters.RasterStack</code>.</td></tr><tr><td style="text-align: left"><code>Base.map</code></td><td style="text-align: left">apply a function to each layer in the enclosed <code>Rasters.RasterStack</code>.</td></tr><tr><td style="text-align: left"><code>Base.write</code></td><td style="text-align: left">write layers to file.</td></tr><tr><td style="text-align: left"><code>Rasters.resample</code></td><td style="text-align: left">resample data to a different size and projection, or snap to another object.</td></tr><tr><td style="text-align: left"><code>Rasters.crop</code></td><td style="text-align: left">shrink objects to specific dimension sizes or the extent of another object.</td></tr><tr><td style="text-align: left"><code>Rasters.extend</code></td><td style="text-align: left">extend objects to specific dimension sizes or the extent of another object.</td></tr><tr><td style="text-align: left"><code>Rasters.trim</code></td><td style="text-align: left">trims areas of missing values for arrays and across stack layers.</td></tr><tr><td style="text-align: left"><code>Rasters.mask</code></td><td style="text-align: left">mask an object by a polygon or Raster along X/Y, or other dimensions.</td></tr><tr><td style="text-align: left"><code>Rasters.replace_missing</code></td><td style="text-align: left">replace all missing values in an object and update missingval.</td></tr></table><p>Additionally, <a href="#RemoteSensingToolbox.Sensors.asraster-Union{Tuple{T}, Tuple{Any, T}} where T&lt;:AbstractSensor"><code>asraster</code></a> can be used to apply a function to the enclosed <code>Rasters.RasterStack</code>.</p><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.AbstractSensor" href="#RemoteSensingToolbox.Sensors.AbstractSensor"><code>RemoteSensingToolbox.Sensors.AbstractSensor</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The supertype of all sensor types. </p><p>Subtypes should wrap a RasterStack under the field &#39;stack&#39; and implement the following interface:</p><pre><code class="nohighlight hljs">blue(X::Sensor)

green(X::Sensor)

red(X::Sensor) 

nir(X::Sensor) 

swir1(X::Sensor)

swir2(X::Sensor)

dn2rs(::Type{&lt;:AbstractSensor})

BandSet(::Type{Landsat8})</code></pre><p><strong>Example Implementation</strong></p><pre><code class="language-julia hljs">struct Landsat8 &lt;: AbstractSensor
    stack::RasterStack
end

function BandSet(::Type{Landsat8})
    bands = [:B1, :B2, :B3, :B4, :B5, :B6, :B7]
    wavelengths = [440, 480, 560, 655, 865, 1610, 2200]
    return BandSet(bands, wavelengths)
end
    
blue(X::Landsat8) = X[:B2]

green(X::Landsat8) = X[:B3]

red(X::Landsat8) = X[:B4]

nir(X::Landsat8) = X[:B5]

swir1(X::Landsat8) = X[:B6]

swir2(X::Landsat8) = X[:B7]

dn2rs(::Type{Landsat8}) = (scale=0.0000275, offset=-0.2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L10-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.BandSet" href="#RemoteSensingToolbox.Sensors.BandSet"><code>RemoteSensingToolbox.Sensors.BandSet</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A struct for storing the band names and associated wavelengths of a particular sensor.</p><p>It is expected that instances of <code>AbstractSensor</code> implement a <code>BandSet</code> constructor.</p><p>The central wavelength for a given band can be recovered by calling the <code>BandSet</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; bandset = BandSet(Sentinel2A);
julia&gt; bandset(:B8A)
842.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L60-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.DESIS" href="#RemoteSensingToolbox.Sensors.DESIS"><code>RemoteSensingToolbox.Sensors.DESIS</code></a> — <span class="docstring-category">Type</span></header><section><div><ul><li><code>stack::Rasters.RasterStack</code></li></ul><p>Implements the <code>AbstractSensor</code> interface for DESIS.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/DESIS.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.Landsat7" href="#RemoteSensingToolbox.Sensors.Landsat7"><code>RemoteSensingToolbox.Sensors.Landsat7</code></a> — <span class="docstring-category">Type</span></header><section><div><ul><li><code>stack::Rasters.RasterStack</code></li></ul><p>Implements the <code>AbstractSensor</code> interface for Landsat 7.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/landsat7.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.Landsat8" href="#RemoteSensingToolbox.Sensors.Landsat8"><code>RemoteSensingToolbox.Sensors.Landsat8</code></a> — <span class="docstring-category">Type</span></header><section><div><ul><li><code>stack::Rasters.RasterStack</code></li></ul><p>Implements the <code>AbstractSensor</code> interface for Landsat 8.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/landsat8.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.Sentinel2A" href="#RemoteSensingToolbox.Sensors.Sentinel2A"><code>RemoteSensingToolbox.Sensors.Sentinel2A</code></a> — <span class="docstring-category">Type</span></header><section><div><ul><li><code>stack::Rasters.RasterStack</code></li></ul><p>Implements the <code>AbstractSensor</code> interface for Sentinel-2A.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/sentinel2a.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.asraster-Union{Tuple{T}, Tuple{Any, T}} where T&lt;:AbstractSensor" href="#RemoteSensingToolbox.Sensors.asraster-Union{Tuple{T}, Tuple{Any, T}} where T&lt;:AbstractSensor"><code>RemoteSensingToolbox.Sensors.asraster</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">asraster(f, X::AbstractSensor)</code></pre><p>Operate on the AbstractSensor as if it was a regular <code>Rasters.RasterStack</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">landsat = Landsat8(&quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
asraster(landsat) do stack
    map(x -&gt; x .* 0.0001f0, stack)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L146-L158">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.blue-Tuple{AbstractSensor}" href="#RemoteSensingToolbox.Sensors.blue-Tuple{AbstractSensor}"><code>RemoteSensingToolbox.Sensors.blue</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">blue(X::AbstractSensor)</code></pre><p>Return the blue band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L91-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.dn2rs-Union{Tuple{Type{T}}, Tuple{T}} where T&lt;:AbstractSensor" href="#RemoteSensingToolbox.Sensors.dn2rs-Union{Tuple{Type{T}}, Tuple{T}} where T&lt;:AbstractSensor"><code>RemoteSensingToolbox.Sensors.dn2rs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dn2rs(::Type{&lt;:AbstractSensor})</code></pre><p>Return the scale and offset required to convert DN to reflectance for the given sensor type.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; dn2rs(Landsat8)
(scale = 2.75e-5, offset = -0.2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L133-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.green-Tuple{AbstractSensor}" href="#RemoteSensingToolbox.Sensors.green-Tuple{AbstractSensor}"><code>RemoteSensingToolbox.Sensors.green</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">green(X::AbstractSensor)</code></pre><p>Return the green band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L98-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.nir-Tuple{AbstractSensor}" href="#RemoteSensingToolbox.Sensors.nir-Tuple{AbstractSensor}"><code>RemoteSensingToolbox.Sensors.nir</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">nir(X::AbstractSensor)</code></pre><p>Return the nir band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L112-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.red-Tuple{AbstractSensor}" href="#RemoteSensingToolbox.Sensors.red-Tuple{AbstractSensor}"><code>RemoteSensingToolbox.Sensors.red</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">red(X::AbstractSensor)</code></pre><p>Return the red band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L105-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.swir1-Tuple{AbstractSensor}" href="#RemoteSensingToolbox.Sensors.swir1-Tuple{AbstractSensor}"><code>RemoteSensingToolbox.Sensors.swir1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">swir1(X::AbstractSensor)</code></pre><p>Return the swir1 band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L119-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Sensors.swir2-Tuple{AbstractSensor}" href="#RemoteSensingToolbox.Sensors.swir2-Tuple{AbstractSensor}"><code>RemoteSensingToolbox.Sensors.swir2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">swir2(X::AbstractSensor)</code></pre><p>Return the swir2 band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Sensors/Sensors.jl#L126-L130">source</a></section></article><h1 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Agriculture" href="#RemoteSensingToolbox.Agriculture"><code>RemoteSensingToolbox.Agriculture</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Agriculture band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/visualization.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.ColorInfrared" href="#RemoteSensingToolbox.ColorInfrared"><code>RemoteSensingToolbox.ColorInfrared</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Color infrared band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/visualization.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Geology" href="#RemoteSensingToolbox.Geology"><code>RemoteSensingToolbox.Geology</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Geology band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/visualization.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.SWIR" href="#RemoteSensingToolbox.SWIR"><code>RemoteSensingToolbox.SWIR</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SWIR band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/visualization.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.TrueColor" href="#RemoteSensingToolbox.TrueColor"><code>RemoteSensingToolbox.TrueColor</code></a> — <span class="docstring-category">Type</span></header><section><div><p>True color band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/visualization.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.visualize-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.visualize-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.visualize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">visualize(r::AbstractRaster, g::AbstractRaster, b::AbstractRaster; lower=0.02, upper=0.98)
visualize(g::AbstractRaster; lower=0.02, upper=0.98)
visualize(img::AbstractSensor, ::Type{TrueColor}; lower=0.02, upper=0.98)
visualize(img::AbstractSensor, ::Type{ColorInfrared}; lower=0.02, upper=0.98)
visualize(img::AbstractSensor, ::Type{SWIR}; lower=0.02, upper=0.98)
visualize(img::AbstractSensor, ::Type{Agriculture}; lower=0.02, upper=0.98)
visualize(img::AbstractSensor, ::Type{Geology}; lower=0.02, upper=0.98)</code></pre><p>Visualize a remotely sensed image by applying a histogram stretch. Returns either an RGB or grayscale image compatible with the <code>Images.jl</code> ecosystem.</p><p>A number of band combinations are supported for types implementing the <code>AbstractSensor</code> interface.</p><p><strong>Example 1</strong></p><pre><code class="language-julia hljs">landsat = Landsat8(&quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
img = visualize(red(landsat), green(landsat), blue(landsat))
save(&quot;truecolor.png&quot;, img)</code></pre><p><strong>Example 2</strong></p><pre><code class="language-julia hljs">landsat = Landsat8(&quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
img = visualize(landsat, TrueColor)
save(&quot;truecolor.png&quot;, img)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/visualization.jl#L16-L42">source</a></section></article><h1 id="Preprocessing"><a class="docs-heading-anchor" href="#Preprocessing">Preprocessing</a><a id="Preprocessing-1"></a><a class="docs-heading-anchor-permalink" href="#Preprocessing" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Preprocessing.create_tiles-Tuple{Any, Tuple{Int64, Int64}}" href="#RemoteSensingToolbox.Preprocessing.create_tiles-Tuple{Any, Tuple{Int64, Int64}}"><code>RemoteSensingToolbox.Preprocessing.create_tiles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_tiles(raster, tile::Tuple{Int,Int}; stride=tile)</code></pre><p>Slice the given raster into tiles with size <code>tile</code>.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The raster to be cut into tiles.</li><li><code>tile</code>: The size of the generated tiles in terms of width x height.</li><li><code>stride</code>: The distance between the top-left corner of each tile. Is equal to <code>tile</code> by default, which produces non-overlapping tiles.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Preprocessing/Preprocessing.jl#L82-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Preprocessing.dn_to_reflectance-Tuple{T} where T&lt;:AbstractSensor" href="#RemoteSensingToolbox.Preprocessing.dn_to_reflectance-Tuple{T} where T&lt;:AbstractSensor"><code>RemoteSensingToolbox.Preprocessing.dn_to_reflectance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dn_to_reflectance(rs::AbstractSensor; precision=Float32)
dn_to_reflectance(rs::AbstractRasterStack, scale, offset; precision=Float32)</code></pre><p>Transform the raster from Digital Numbers (DN) to reflectance.</p><p><strong>Parameters</strong></p><ul><li><code>rs</code>: The <code>RasterStack</code> or <code>AbstractSensor</code> to be converted to reflectance.</li><li><code>scale</code>: The scaling factor used to convert DN to reflectance. Inferred for <code>AbstractSensor</code> types.</li><li><code>offset</code>: The offset used to convert DN to reflectance. Inferred for <code>AbstractSensor</code> types.</li><li><code>precision</code>: The floating point representation of reflectance values. Uses 32 bits of precision by default.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Preprocessing/Preprocessing.jl#L52-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Preprocessing.landsat_qa-Tuple{String}" href="#RemoteSensingToolbox.Preprocessing.landsat_qa-Tuple{String}"><code>RemoteSensingToolbox.Preprocessing.landsat_qa</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">landsat_qa(qa_src::String)</code></pre><p>Read and decode a landsat quality assurance (QA) raster. Decodes each bit into its own <code>RasterStack</code> layer.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; qa = landsat_qa(&quot;LC08_L2SP_043024_20200802_20200914_02_T1_QA_PIXEL.TIF&quot;)
RasterStack with dimensions: 
  X Projected{Float64} LinRange{Float64}(493785.0, 728385.0, 7821) ForwardOrdered Regular Points crs: WellKnownText,
  Y Projected{Float64} LinRange{Float64}(5.84638e6, 5.60878e6, 7921) ReverseOrdered Regular Points crs: WellKnownText
and 7 layers:
  :dilated_cloud UInt8 dims: X, Y (7821×7921)
  :cirrus        UInt8 dims: X, Y (7821×7921)
  :cloud         UInt8 dims: X, Y (7821×7921)
  :cloud_shadow  UInt8 dims: X, Y (7821×7921)
  :snow          UInt8 dims: X, Y (7821×7921)
  :clear         UInt8 dims: X, Y (7821×7921)
  :water         UInt8 dims: X, Y (7821×7921)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Preprocessing/Preprocessing.jl#L121-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Preprocessing.mask_pixels-Tuple{Rasters.AbstractRaster, Any}" href="#RemoteSensingToolbox.Preprocessing.mask_pixels-Tuple{Rasters.AbstractRaster, Any}"><code>RemoteSensingToolbox.Preprocessing.mask_pixels</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask_pixels(raster, mask; invert_mask=false)</code></pre><p>Drop pixels from a raster according to a given mask. The mask and raster must have the same extent and size.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The raster to be masked.</li><li><code>mask</code>: A mask defining which pixels we want to drop. By default, we drop pixels corresponding to mask values of <code>1</code>.</li><li><code>invert_mask</code>: Treat mask values of <code>1</code> as <code>0</code> and vice-versa.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Preprocessing/Preprocessing.jl#L100-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Preprocessing.tocube-Tuple{Rasters.RasterStack}" href="#RemoteSensingToolbox.Preprocessing.tocube-Tuple{Rasters.RasterStack}"><code>RemoteSensingToolbox.Preprocessing.tocube</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tocube(rs::RasterStack; layers=names(rs))
tocube(rs::AbstractSensor; layers=names(rs))</code></pre><p>Transform the multi-layer <code>RasterStack</code> to a multi-band raster.</p><p><strong>Parameters</strong></p><ul><li><code>X</code>: The <code>RasterStack</code> or <code>AbstractSensor</code> to be transformed into a multi-band raster.</li><li><code>layers</code>: The layers to include in the new raster.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; landsat = Landsat8(&quot;LC08_L2SP_043024_20200802_20200914_02_T1&quot;);
julia&gt; tocube(landsat)
7821×7921×7 Raster{Float32,3} B1 with dimensions: 
  X Projected{Float64} LinRange{Float64}(493785.0, 728385.0, 7821) ForwardOrdered Regular Points crs: WellKnownText,
  Y Projected{Float64} LinRange{Float64}(5.84638e6, 5.60878e6, 7921) ReverseOrdered Regular Points crs: WellKnownText,
  Band Categorical{Int64} 1:7 ForwardOrdered
extent: Extent(X = (493785.0, 728385.0), Y = (5.608785e6, 5.846385e6), Band = (1, 7))
missingval: 0.0f0
crs: PROJCS[&quot;WGS 84 / UTM zone 11N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-117],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32611&quot;]]
parent:
[:, :, 1]
           5.84638e6  5.84636e6  5.84632e6  5.8463e6  5.84626e6  …  5.60894e6  5.6089e6  5.60888e6  5.60884e6  5.60882e6  5.60878e6
 493785.0  0.0        0.0        0.0        0.0       0.0           0.0        0.0       0.0        0.0        0.0        0.0
      ⋮                                               ⋮          ⋱                                             ⋮          
 728355.0  0.0        0.0        0.0        0.0       0.0           0.0        0.0       0.0        0.0        0.0        0.0
 728385.0  0.0        0.0        0.0        0.0       0.0           0.0        0.0       0.0        0.0        0.0        0.0
[and 6 more slices...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Preprocessing/Preprocessing.jl#L11-L41">source</a></section></article><h1 id="Land-Cover-Indices"><a class="docs-heading-anchor" href="#Land-Cover-Indices">Land Cover Indices</a><a id="Land-Cover-Indices-1"></a><a class="docs-heading-anchor-permalink" href="#Land-Cover-Indices" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.mndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.mndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.mndwi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mndwi(green::AbstractRaster, swir::AbstractRaster)
mndwi(sensor::AbstractSensor)</code></pre><p>Compute the Modified Normalised Difference Water Index (Xu 2006).</p><p>MNDWI = (green - swir) / (green + swir)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.nbri-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.nbri-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.nbri</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">nbri(nir::AbstractRaster, swir2::AbstractRaster)
nbri(sensor::AbstractSensor)</code></pre><p>Compute the Normalized Burn Ratio Index.</p><p>NBRI is used to emphasize burned areas.</p><p>NBRI = (nir - swir2) / (nir + swir2)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L117-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.ndbi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.ndbi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.ndbi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndbi(swir1::AbstractRaster, nir::AbstractRaster)
ndbi(sensor::AbstractSensor)</code></pre><p>Compute the The Normalized Difference Built-up Index</p><p>NDBI is used to emphasize urban and built-up areas.</p><p>NDBI = (swir1 - nir) / (swir1 + nir)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L141-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.ndmi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.ndmi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.ndmi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndmi(nir::AbstractRaster, swir1::AbstractRaster)
ndmi(sensor::AbstractSensor)</code></pre><p>Compute the Normalized Difference Moisture Index.</p><p>NDMI is sensitive to the moisture levels in vegetation. It is used to monitor droughts and fuel levels in fire-prone areas.</p><p>NDMI = (nir - swir1) / (nir + swir1)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L93-L102">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.ndvi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.ndvi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.ndvi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndvi(nir::AbstractRaster, red::AbstractRaster)
ndvi(sensor::AbstractSensor)</code></pre><p>Compute the Normalized Difference Vegetation Index.</p><p>NDVI = (nir - red) / (nir + red)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L45-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.ndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.ndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.ndwi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndwi(green::AbstractRaster, nir::AbstractRaster)
ndwi(sensor::AbstractSensor)</code></pre><p>Compute the Normalized Difference Water Index (McFeeters 1996).</p><p>NDWI = (green - nir) / (green + nir)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L23-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Algorithms.savi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.Algorithms.savi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.Algorithms.savi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">savi(nir::AbstractRaster, red::AbstractRaster; L=0.33)
savi(sensor::AbstractSensor; L=0.33)</code></pre><p>Compute the Soil Adjusted Vegetation Index (Huete 1988).</p><p>SAVI is a vegetation index which attempts to minimize soil brightness influences by introducing a soil-brightness correction factor (L).</p><p>L represents the amount of green vegetation cover, which is set to 0.33 by default.</p><p>SAVI = ((nir - red) / (nir + red + L)) * (1 + L)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Algorithms/indices.jl#L67-L78">source</a></section></article><h1 id="Spectral-Analysis"><a class="docs-heading-anchor" href="#Spectral-Analysis">Spectral Analysis</a><a id="Spectral-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Spectral-Analysis" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Spectral.labelled_signatures-Tuple{Rasters.RasterStack, DataFrames.DataFrame, Symbol}" href="#RemoteSensingToolbox.Spectral.labelled_signatures-Tuple{Rasters.RasterStack, DataFrames.DataFrame, Symbol}"><code>RemoteSensingToolbox.Spectral.labelled_signatures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">labelled_signatures(rs::AbstractSensor, shp::DataFrame, label::Symbol)
labelled_signatures(rs::RasterStack, shp::DataFrame, label::Symbol)</code></pre><p>Extract signatures from the given <code>RasterStack</code> or <code>AbstractSensor</code> within regions specified by a given shapefile.</p><p><strong>Parameters</strong></p><ul><li><code>rs</code>: The <code>RasterStack</code> or <code>AbstractSensor</code> from which to extract spectral signatures.</li><li><code>shp</code>: A shapefile stored as a <code>DataFrame</code> with a :geometry column storing a <code>GeoInterface.jl</code> compatible geometry and a label column indicating the land cover type.</li><li><code>label</code>: The column in <code>shp</code> in which the land cover class is stored.</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> consisting of rows for each extracted signature and columns storing the respective bands and land cover type.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; landsat = Landsat8(&quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;) |&gt; dn_to_reflectance;

julia&gt; shp = Shapefile.Table(&quot;data/landcover/landcover.shp&quot;) |&gt; DataFrame;

julia&gt; labelled_signatures(landsat, shp, :cover)
2860×8 DataFrame
  Row │ B1         B2         B3         B4         B5        B6        B7        label      
      │ Float32    Float32    Float32    Float32    Float32   Float32   Float32   String     
──────┼──────────────────────────────────────────────────────────────────────────────────────
    1 │ 0.0514875  0.073845   0.119742   0.128817   0.2466    0.256005  0.221905  Built Up
    2 │ 0.0759625  0.10228    0.152963   0.170865   0.27575   0.300115  0.26387   Built Up
    3 │ 0.113747   0.134263   0.212747   0.237497   0.32756   0.32041   0.28851   Built Up
    4 │ 0.09359    0.117955   0.18522    0.19743    0.302453  0.3148    0.277125  Built Up
    5 │ 0.0793725  0.104507   0.133658   0.1377     0.311555  0.2873    0.23824   Built Up
    6 │ 0.0641375  0.086      0.11724    0.115315   0.353272  0.291755  0.221878  Built Up
    7 │ 0.240688   0.271735   0.254245   0.299648   0.376895  0.500067  0.460797  Built Up
    8 │ 0.06554    0.0865225  0.14265    0.16245    0.272478  0.283697  0.238515  Built Up
    9 │ 0.0979625  0.131732   0.190747   0.230402   0.312793  0.369112  0.327148  Built Up
  ⋮   │     ⋮          ⋮          ⋮          ⋮         ⋮         ⋮         ⋮          ⋮
 2853 │ 0.0355925  0.0422475  0.0688675  0.0711225  0.24385   0.287245  0.180792  Bare Earth
 2854 │ 0.0494525  0.05674    0.0867975  0.09612    0.277703  0.311665  0.192728  Bare Earth
 2855 │ 0.0473075  0.053      0.0815725  0.0860825  0.264998  0.291672  0.183075  Bare Earth
 2856 │ 0.04673    0.05267    0.08039    0.083195   0.25716   0.285787  0.184175  Bare Earth
 2857 │ 0.0465925  0.05289    0.0809675  0.0854225  0.268627  0.299345  0.189565  Bare Earth
 2858 │ 0.0471975  0.052835   0.08094    0.0856975  0.266097  0.302783  0.189097  Bare Earth
 2859 │ 0.0453275  0.050745   0.075055   0.0795925  0.247095  0.293323  0.185962  Bare Earth
 2860 │ 0.036335   0.0434025  0.06884    0.070985   0.2422    0.282845  0.179995  Bare Earth
                                                                            2843 rows omitted</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Spectral/analysis.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Spectral.plot_signatures!-Tuple{Makie.Axis, Rasters.RasterStack, DataFrames.DataFrame, BandSet, Symbol}" href="#RemoteSensingToolbox.Spectral.plot_signatures!-Tuple{Makie.Axis, Rasters.RasterStack, DataFrames.DataFrame, BandSet, Symbol}"><code>RemoteSensingToolbox.Spectral.plot_signatures!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_signatures!(ax::Axis, rs::AbstractSensor, shp::DataFrame, label::Symbol; colors=wong_colors())
plot_signatures!(ax::Axis, rs::RasterStack, shp::DataFrame, bandset::BandSet, label::Symbol; colors=wong_colors())</code></pre><p>Plot spectral signatures for each land cover type specified in a given shapefile by mutating a <code>Makie.Axis</code> object.</p><p><strong>Parameters</strong></p><ul><li><code>ax</code>: The <code>Makie.Axis</code> into which we want to draw our plot.</li><li><code>rs</code>: The <code>RasterStack</code> or <code>AbstractSensor</code> from which to extract spectral signatures.</li><li><code>shp</code>: A shapefile stored as a <code>DataFrame</code> with a :geometry column storing a <code>GeoInterface.jl</code> compatible geometry and a label column indicating the land cover type.</li><li><code>bandset</code>: The <code>BandSet</code> for the provided sensor specifying the available bands and associated wavelengths in nm. Inferred for <code>AbstractSensor</code>.</li><li><code>label</code>: The column in <code>shp</code> in which the land cover class is stored.</li><li><code>colors</code>: The color scheme used by the plot.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Read Landsat And Convert DNs To Reflectance
landsat = Landsat8(&quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;) |&gt; dn_to_reflectance

# Load Shapefile
shp = Shapefile.Table(&quot;data/landcover/landcover.shp&quot;) |&gt; DataFrame

# Create Axes
fig = Figure();
ax1 = Axis(fig[1,1]);
ax2 = Axis(fig[2,1]);

# Plot Signatures
plot_signatures!(ax1, landsat, shp, :C_name; colors=cgrad(:tab10));
plot_signatures!(ax2, landsat, shp, :MC_name; colors=cgrad(:tab10));

# Add Legend
Legend(fig[1,2], ax1);
Legend(fig[2,2], ax2);

# Save Figure
save(&quot;landsat_signatures.png&quot;, fig)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Spectral/analysis.jl#L120-L158">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Spectral.plot_signatures-Tuple{Rasters.RasterStack, DataFrames.DataFrame, BandSet, Symbol}" href="#RemoteSensingToolbox.Spectral.plot_signatures-Tuple{Rasters.RasterStack, DataFrames.DataFrame, BandSet, Symbol}"><code>RemoteSensingToolbox.Spectral.plot_signatures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_signatures(rs::AbstractSensor, shp::DataFrame, label::Symbol; colors=wong_colors())
plot_signatures(rs::RasterStack, shp::DataFrame, bandset::BandSet, label::Symbol; colors=wong_colors())</code></pre><p>Plot spectral signatures for each land cover type specified in a given shapefile.</p><p><strong>Parameters</strong></p><ul><li><code>rs</code>: The <code>RasterStack</code> or <code>AbstractSensor</code> from which to extract spectral signatures.</li><li><code>shp</code>: A shapefile stored as a <code>DataFrame</code> with a :geometry column storing a <code>GeoInterface.jl</code> compatible geometry and a label column indicating the land cover type.</li><li><code>bandset</code>: The <code>BandSet</code> for the provided sensor specifying the available bands and associated wavelengths in nm. Inferred for <code>AbstractSensor</code>.</li><li><code>label</code>: The column in <code>shp</code> in which the land cover class is stored.</li><li><code>colors</code>: The color scheme used by the plot.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Read Landsat And Convert DNs To Reflectance
landsat = Landsat8(&quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;) |&gt; dn_to_reflectance

# Load Shapefile
shp = Shapefile.Table(&quot;data/landcover/landcover.shp&quot;) |&gt; DataFrame

# Plot Signatures
plot_signatures(landsat, shp, :C_name; colors=cgrad(:tab10))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Spectral/analysis.jl#L66-L90">source</a></section></article><h1 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Utils.stack2df-Tuple{Rasters.RasterStack}" href="#RemoteSensingToolbox.Utils.stack2df-Tuple{Rasters.RasterStack}"><code>RemoteSensingToolbox.Utils.stack2df</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stack2df(rs::RasterStack; dropmissingvals=true)</code></pre><p>Convert a <code>RasterStack</code> into a <code>DataFrame</code>.</p><p><strong>Parameters</strong></p><ul><li><code>rs</code>: The <code>RasterStack</code> or <code>AbstractSensor</code> from which to extract spectral signatures.</li><li><code>dropmissingvals</code>: Whether or not to drop missing values from the <code>DataFrame</code>. If <code>true</code>, drops points with missing values in at least one layer.</li></ul><p><strong>Returns</strong></p><p>A <code>DataFrame</code> consisting of rows for each point in the <code>RasterStack</code> and columns for each layer.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; landsat = Landsat8(&quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;);

julia&gt; stack2df(landsat.stack)
40483825×7 DataFrame
      Row │ B1      B2      B3      B4      B5      B6      B7     
          │ UInt16  UInt16  UInt16  UInt16  UInt16  UInt16  UInt16 
──────────┼────────────────────────────────────────────────────────
        1 │   8348    8345    8798    8216   14454   11201    9070
        2 │   7990    8064    8707    8106   15583   11652    9376
        3 │   8180    8247    8858    8135   17552   12097    9386
        4 │   8400    8362    8952    8262   17836   12772    9797
        5 │   8447    8398    9088    8284   20507   12857    9901
        6 │   8375    8337    8818    8190   16348   12237    9662
        7 │   7742    8005    8915    8257   16683   12465    9862
        8 │   7996    8152    9002    8530   16328   13528   10526
        9 │   8178    8213    8887    8513   17244   13059   10282
    ⋮     │   ⋮       ⋮       ⋮       ⋮       ⋮       ⋮       ⋮
 40483818 │   8609    8835    9707    9924   16742   16214   12380
 40483819 │   8520    8662    9578    9722   16355   15326   11816
 40483820 │   8484    8646    9539    9517   16800   15304   11735
 40483821 │   8645    8854    9775   10064   16739   16707   12667
 40483822 │   8454    8596    9515    9455   17095   15065   11488
 40483823 │   8586    8863    9867   10164   16688   16382   12640
 40483824 │   8601    8823    9684   10050   16210   16211   12439
 40483825 │   8700    8934    9898   10324   16947   16727   12722
                                              40483808 rows omitted</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/ae9e329790272a9848d931d13fcf4000230ef3bf/src/Utils/Utils.jl#L10-L51">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="visualization_example/">Visualization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 9 June 2023 22:24">Friday 9 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
