<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · RemoteSensingToolbox.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://JoshuaBillson.github.io/RemoteSensingToolbox.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>RemoteSensingToolbox.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Features"><span>Features</span></a></li><li class="toplevel"><a class="tocitem" href="#Rasters.jl"><span>Rasters.jl</span></a></li><li class="toplevel"><a class="tocitem" href="#Bandsets"><span>Bandsets</span></a></li><li class="toplevel"><a class="tocitem" href="#Visualization"><span>Visualization</span></a></li><li class="toplevel"><a class="tocitem" href="#Land-Cover-Indices"><span>Land Cover Indices</span></a></li><li class="toplevel"><a class="tocitem" href="#Spectral-Analysis"><span>Spectral Analysis</span></a></li><li class="toplevel"><a class="tocitem" href="#Principal-Component-Analysis"><span>Principal Component Analysis</span></a></li><li class="toplevel"><a class="tocitem" href="#Minimum-Noise-Fraction"><span>Minimum Noise Fraction</span></a></li><li class="toplevel"><a class="tocitem" href="#Utilities"><span>Utilities</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="quickstart/">Quick Start</a></li><li><a class="tocitem" href="pca_example/">Principal Component Analysis</a></li><li><a class="tocitem" href="spectral_example/">Spectral Analysis</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="RemoteSensingToolbox"><a class="docs-heading-anchor" href="#RemoteSensingToolbox">RemoteSensingToolbox</a><a id="RemoteSensingToolbox-1"></a><a class="docs-heading-anchor-permalink" href="#RemoteSensingToolbox" title="Permalink"></a></h1><p><a href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl">RemoteSensingToolbox</a> is a pure Julia package built on top of <a href="https://github.com/rafaqz/Rasters.jl">Rasters.jl</a> for visualizing, analyzing, and manipulating remotely sensed imagery. Most methods expect either an <code>AbstractRaster</code> or <code>AbstractRasterStack</code> as input and return the same. The most important exception to this rule is <a href="#RemoteSensingToolbox.visualize-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>visualize</code></a>, which returns an <code>Array</code> of either <code>Gray</code> or <code>RGB</code> pixels, depending on whether the visualization is intended to be in color or grayscale. The result is that the output of <code>visualize</code> will be automatically displayed inside <code>Pluto</code>. </p><h1 id="Features"><a class="docs-heading-anchor" href="#Features">Features</a><a id="Features-1"></a><a class="docs-heading-anchor-permalink" href="#Features" title="Permalink"></a></h1><p><code>RemoteSensingToolbox</code> is a work in progress. This means that new features are being added and existing features are subject to change. To contribute to this project, please create an issue on <a href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl">GitHub</a> or open a pull request.  A summary of both existing and future features are provided below:</p><table><tr><th style="text-align: left">Feature</th><th style="text-align: left">Description</th><th style="text-align: center">Implemented</th></tr><tr><td style="text-align: left">Visualization</td><td style="text-align: left">Visualize images with various band composites</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">Land Cover Indices</td><td style="text-align: left">Calculate indices such as MNDWI and NDVI</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">QA and SCL Decoding</td><td style="text-align: left">Decode Quality Assurance and Scene Classification masks</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">Pixel Masking</td><td style="text-align: left">Mask pixels to remove objects such as clouds or shadows</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">PCA</td><td style="text-align: left">Perform PCA analysis, transformation, and reconstruction</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">MNF</td><td style="text-align: left">Minimum Noise Fraction transformation and reconstruction</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">Signature Analysis</td><td style="text-align: left">Visualize spectral signatures for different land cover types</td><td style="text-align: center">Yes</td></tr><tr><td style="text-align: left">Land Cover Classification</td><td style="text-align: left">Exposes an <code>MLJ</code> interface for classifying land cover types</td><td style="text-align: center">No</td></tr><tr><td style="text-align: left">Endmember Extraction</td><td style="text-align: left">Extract spectral endmembers from an image</td><td style="text-align: center">No</td></tr><tr><td style="text-align: left">Spectral Unmixing</td><td style="text-align: left">Perform spectral unmixing under a given endmember library</td><td style="text-align: center">No</td></tr></table><h1 id="Rasters.jl"><a class="docs-heading-anchor" href="#Rasters.jl">Rasters.jl</a><a id="Rasters.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Rasters.jl" title="Permalink"></a></h1><p><code>RemoteSensingToolbox</code> is intended to be used in conjunction with the wider Julia ecosystem and as such, seeks to avoid duplicating functinalities provided by other packages. As the majority of methods accept and return <code>AbstractRaster</code> or <code>AbstractRasterStack</code> objects, users should be able to call methods from <a href="https://github.com/rafaqz/Rasters.jl">Rasters.jl</a> at any point in the processing pipeline. A summary of common functionalities offered by <code>Rasters</code> is provided below: </p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><code>mosaic</code></td><td style="text-align: left">Join rasters covering different extents into a single array or file.</td></tr><tr><td style="text-align: left"><code>crop</code></td><td style="text-align: left">Shrink objects to specific dimension sizes or the extent of another object.</td></tr><tr><td style="text-align: left"><code>extend</code></td><td style="text-align: left">Extend objects to specific dimension sizes or the extent of another object.</td></tr><tr><td style="text-align: left"><code>trim</code></td><td style="text-align: left">Trims areas of missing values for arrays and across stack layers.</td></tr><tr><td style="text-align: left"><code>resample</code></td><td style="text-align: left">Resample data to a different size and projection, or snap to another object.</td></tr><tr><td style="text-align: left"><code>mask</code></td><td style="text-align: left">Mask a raster by a polygon or the non-missing values of another Raster.</td></tr><tr><td style="text-align: left"><code>replace_missing</code></td><td style="text-align: left">Replace all missing values in a raster and update missingval.</td></tr><tr><td style="text-align: left"><code>extract</code></td><td style="text-align: left">Extract raster values from points or geometries.</td></tr><tr><td style="text-align: left"><code>zonal</code></td><td style="text-align: left">Calculate zonal statistics for a raster masked by geometries.</td></tr></table><h1 id="Bandsets"><a class="docs-heading-anchor" href="#Bandsets">Bandsets</a><a id="Bandsets-1"></a><a class="docs-heading-anchor-permalink" href="#Bandsets" title="Permalink"></a></h1><p>Bandsets are Julia types that encode the sensor-specific information needed for many methods in <code>RemoteSensingToolbox</code> to work without the need for tedious details from the end user. Such methods typically expect the sensor type to be passed in as the first argument, which then triggers Julia&#39;s multiple dispatch to execute the appropriate sensor-specific procedures. Bandsets are provided for several common sensors including Sentinel-2, Landsat 7, and Landsat 8.</p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.bands"><code>bands</code></a></td><td style="text-align: left">Return the band names in order from shortest to longest wavelength.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.wavelengths"><code>wavelengths</code></a></td><td style="text-align: left">Return the central wavelengths for all bands from shortest to longest.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.wavelength"><code>wavelength</code></a></td><td style="text-align: left">Return the central wavelength for the specified band.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.blue"><code>blue</code></a></td><td style="text-align: left">Return the blue band for the given sensor.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.green"><code>green</code></a></td><td style="text-align: left">Return the green band for the given sensor.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.red"><code>red</code></a></td><td style="text-align: left">Return the red band for the given sensor.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.nir"><code>nir</code></a></td><td style="text-align: left">Return the nir band for the given sensor.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.swir1"><code>swir1</code></a></td><td style="text-align: left">Return the swir1 band for the given sensor.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.swir2"><code>swir2</code></a></td><td style="text-align: left">Return the swir2 band for the given sensor.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.read_bands"><code>read_bands</code></a></td><td style="text-align: left">Read bands from the specified directory into a <code>Raster</code> or <code>RasterStack</code>.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.read_qa"><code>read_qa</code></a></td><td style="text-align: left">Reads the QA or scene classification file from the provided file or directory.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Bandsets.dn_to_reflectance"><code>dn_to_reflectance</code></a></td><td style="text-align: left">Decodes digital numbers to reflectance.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.AbstractBandset" href="#RemoteSensingToolbox.Bandsets.AbstractBandset"><code>RemoteSensingToolbox.Bandsets.AbstractBandset</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The supertype of all sensor types. Provides sensor-specific information to many <code>RemoteSensingToolbox</code> methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/Bandsets.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.DESIS" href="#RemoteSensingToolbox.Bandsets.DESIS"><code>RemoteSensingToolbox.Bandsets.DESIS</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Implements the <code>AbstractBandset</code> interface for Landsat 7.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/DESIS.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.Landsat8" href="#RemoteSensingToolbox.Bandsets.Landsat8"><code>RemoteSensingToolbox.Bandsets.Landsat8</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Implements the <code>AbstractBandset</code> interface for Landsat 8.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/landsat8.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.Landsat7" href="#RemoteSensingToolbox.Bandsets.Landsat7"><code>RemoteSensingToolbox.Bandsets.Landsat7</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Implements the <code>AbstractBandset</code> interface for Landsat 7.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/landsat7.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.Sentinel2" href="#RemoteSensingToolbox.Bandsets.Sentinel2"><code>RemoteSensingToolbox.Bandsets.Sentinel2</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Implements the <code>AbstractBandset</code> interface for Sentinel 2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/sentinel2.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.red" href="#RemoteSensingToolbox.Bandsets.red"><code>RemoteSensingToolbox.Bandsets.red</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">red(::Type{AbstractBandset})
red(raster, ::Type{AbstractBandset})</code></pre><p>Return the red band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L35-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.green" href="#RemoteSensingToolbox.Bandsets.green"><code>RemoteSensingToolbox.Bandsets.green</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">green(::Type{AbstractBandset})
green(raster, ::Type{AbstractBandset})</code></pre><p>Return the green band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L27-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.blue" href="#RemoteSensingToolbox.Bandsets.blue"><code>RemoteSensingToolbox.Bandsets.blue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">blue(::Type{AbstractBandset})
blue(raster, ::Type{AbstractBandset})</code></pre><p>Return the blue band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L19-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.nir" href="#RemoteSensingToolbox.Bandsets.nir"><code>RemoteSensingToolbox.Bandsets.nir</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nir(::Type{AbstractBandset})
nir(raster, ::Type{AbstractBandset})</code></pre><p>Return the nir band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.swir1" href="#RemoteSensingToolbox.Bandsets.swir1"><code>RemoteSensingToolbox.Bandsets.swir1</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">swir1(::Type{AbstractBandset})
swir1(raster, ::Type{AbstractBandset})</code></pre><p>Return the swir1 band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L51-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.swir2" href="#RemoteSensingToolbox.Bandsets.swir2"><code>RemoteSensingToolbox.Bandsets.swir2</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">swir2(::Type{AbstractBandset})
swir2(raster, ::Type{AbstractBandset})</code></pre><p>Return the swir2 band for the given sensor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L59-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.bands" href="#RemoteSensingToolbox.Bandsets.bands"><code>RemoteSensingToolbox.Bandsets.bands</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bands(::Type{AbstractBandset})</code></pre><p>Return the band names in order from shortest to longest wavelength.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.wavelengths" href="#RemoteSensingToolbox.Bandsets.wavelengths"><code>RemoteSensingToolbox.Bandsets.wavelengths</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">wavelengths(::Type{AbstractBandset})</code></pre><p>Return the central wavelengths for all bands in order from shortest to longest.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.wavelength" href="#RemoteSensingToolbox.Bandsets.wavelength"><code>RemoteSensingToolbox.Bandsets.wavelength</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">wavelength(::Type{AbstractBandset}, band::Symbol)</code></pre><p>Return the central wavelength for the corresponding band.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/Bandsets.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.parse_band" href="#RemoteSensingToolbox.Bandsets.parse_band"><code>RemoteSensingToolbox.Bandsets.parse_band</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_band(::Type{AbstractBandset}, filename::String)</code></pre><p>Parses the band name from the given file path. </p><p>Returns either the band as a <code>Symbol</code> or nothing if no band could be parsed.</p><p>If the file is a multi-band raster, returns the names of all bands as a <code>Vector{Symbol}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L67-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.read_bands" href="#RemoteSensingToolbox.Bandsets.read_bands"><code>RemoteSensingToolbox.Bandsets.read_bands</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function read_bands(bandset::Type{AbstractBandset}, dir::String)</code></pre><p>Read the bands from the given directory into a <code>RasterStack</code>.</p><p><strong>Parameters</strong></p><ul><li><code>bandset</code>: The sensor type to which the bands belong.</li><li><code>dir</code>: The directory in which the bands can be read.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; landsat = read_bands(Landsat8, &quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
RasterStack with dimensions: 
  X Projected{Float64} LinRange{Float64}(493785.0, 728385.0, 7821) ForwardOrdered Regular Points crs: WellKnownText,
  Y Projected{Float64} LinRange{Float64}(5.84638e6, 5.60878e6, 7921) ReverseOrdered Regular Points crs: WellKnownText
and 7 layers:
  :B1 UInt16 dims: X, Y (7821×7921)
  :B2 UInt16 dims: X, Y (7821×7921)
  :B3 UInt16 dims: X, Y (7821×7921)
  :B4 UInt16 dims: X, Y (7821×7921)
  :B5 UInt16 dims: X, Y (7821×7921)
  :B6 UInt16 dims: X, Y (7821×7921)
  :B7 UInt16 dims: X, Y (7821×7921)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/Bandsets.jl#L29-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.read_qa" href="#RemoteSensingToolbox.Bandsets.read_qa"><code>RemoteSensingToolbox.Bandsets.read_qa</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_qa(bandset::Type{AbstractBandSet}, src::String)</code></pre><p>Read and decode the quality assurance mask for the given <code>AbstractBandset</code>.</p><p><strong>Parameters</strong></p><ul><li><code>bandset</code>: A subtype of <code>AbstractBandset</code>.</li><li><code>src</code>: Either a directory containing the quality assurance mask named according to standard conventions or the file itself.</li></ul><p><strong>Returns</strong></p><p>The decoded quality assurance mask as a <code>RasterStack</code>. Encodes masked values as 1 and non-masked values as 0.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; qa = read_qa(Landsat8, &quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
RasterStack with dimensions: 
  X Projected{Float64} LinRange{Float64}(493785.0, 728385.0, 7821) ForwardOrdered Regular Points crs: WellKnownText,
  Y Projected{Float64} LinRange{Float64}(5.84638e6, 5.60878e6, 7921) ReverseOrdered Regular Points crs: WellKnownText
and 7 layers:
  :dilated_cloud UInt8 dims: X, Y (7821×7921)
  :cirrus        UInt8 dims: X, Y (7821×7921)
  :cloud         UInt8 dims: X, Y (7821×7921)
  :cloud_shadow  UInt8 dims: X, Y (7821×7921)
  :snow          UInt8 dims: X, Y (7821×7921)
  :clear         UInt8 dims: X, Y (7821×7921)
  :water         UInt8 dims: X, Y (7821×7921)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L82-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Bandsets.dn_to_reflectance" href="#RemoteSensingToolbox.Bandsets.dn_to_reflectance"><code>RemoteSensingToolbox.Bandsets.dn_to_reflectance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dn_to_reflectance(bandset::Type{AbstractBandset}, raster; clamp_values=false)</code></pre><p>Transform the raster from Digital Numbers (DN) to reflectance.</p><p><strong>Parameters</strong></p><ul><li><code>bandset</code>: A subtype of <code>AbstractBandset</code>.</li><li><code>raster</code>: The <code>AbstractRasterStack</code> or <code>AbstractRaster</code> to be converted to reflectance.</li><li><code>clamp_values</code>: Indicates whether to clamp reflectances into the range (0.0, 1.0] (default = false).</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">landsat = read(Landsat8, &quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
landsat_sr = dn_to_reflectance(Landsat8, landsat)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Bandsets/interface.jl#L112-L127">source</a></section></article><h1 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h1><p>Remotely sensed imagery is typically encoded as either <code>UInt16</code> or <code>Int16</code> values. However, many products only actually use the first 12 bits for storing information. The result is that naive visualization methods will produce a near-black image, since the maximum possible brightness will be located in the lower range of values provided by the 16 bit encoding. To address this, we need to perform a linear stretch before visualizing an image. Additionally, many satellites have more than three bands, which motivates the use of band combinations to emphasize certain features and land cover types.</p><table><tr><th style="text-align: left"><strong>Method/Type</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.TrueColor"><code>TrueColor</code></a></td><td style="text-align: left">The true color band combination produces RGB images that are familiar to the human eye.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Agriculture"><code>Agriculture</code></a></td><td style="text-align: left">Used for crop monitoring and emphasizing healthy vegetation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Geology"><code>Geology</code></a></td><td style="text-align: left">Emphasizes geological formations, lithology features, and faults.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.ColorInfrared"><code>ColorInfrared</code></a></td><td style="text-align: left">Highlights vegetation in red, water in blue, and urban areas in grey.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.SWIR"><code>SWIR</code></a></td><td style="text-align: left">Emphasizes dense vegetation in dark green and sparse vegetation in lighter shades.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.visualize-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>visualize</code></a></td><td style="text-align: left">Visualize a <code>Raster</code> or <code>RasterStack</code> containing one or more satellite bands.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Agriculture" href="#RemoteSensingToolbox.Agriculture"><code>RemoteSensingToolbox.Agriculture</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Agriculture band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/visualization.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.ColorInfrared" href="#RemoteSensingToolbox.ColorInfrared"><code>RemoteSensingToolbox.ColorInfrared</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Color infrared band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/visualization.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Geology" href="#RemoteSensingToolbox.Geology"><code>RemoteSensingToolbox.Geology</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Geology band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/visualization.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.SWIR" href="#RemoteSensingToolbox.SWIR"><code>RemoteSensingToolbox.SWIR</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SWIR band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/visualization.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.TrueColor" href="#RemoteSensingToolbox.TrueColor"><code>RemoteSensingToolbox.TrueColor</code></a> — <span class="docstring-category">Type</span></header><section><div><p>True color band composite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/visualization.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.visualize-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.visualize-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.visualize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">visualize(g::AbstractRaster; lower=0.02, upper=0.98)
visualize(r::AbstractRaster, g::AbstractRaster, b::AbstractRaster; lower=0.02, upper=0.98)
visualize(img::AbstractRasterStack, ::Type{TrueColor{AbstractBandset}}; kwargs...)
visualize(img::AbstractRasterStack, ::Type{ColorInfrared{AbstractBandset}}; kwargs...)
visualize(img::AbstractRasterStack, ::Type{SWIR{AbstractBandset}}; kwargs...)
visualize(img::AbstractRasterStack, ::Type{Agriculture{AbstractBandset}}; kwargs...)
visualize(img::AbstractRasterStack, ::Type{Geology{AbstractBandset}}; kwargs...)</code></pre><p>Visualize a satellite image after applying a histogram stretch. Returns either an RGB or grayscale image compatible with the <code>Images.jl</code> ecosystem.</p><p>A number of band combinations are supported for types implementing the <code>AbstractBandSet</code> interface.</p><p><strong>Example 1</strong></p><pre><code class="language-julia hljs">landsat = read_bands(Landsat8, &quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
mndwi(landsat, Landsat8) |&gt; visualize</code></pre><p><strong>Example 2</strong></p><pre><code class="language-julia hljs">landsat = read_bands(Landsat8, &quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;)
visualize(landsat, TrueColor{Landsat8}; upper=0.90)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/visualization.jl#L16-L40">source</a></section></article><h1 id="Land-Cover-Indices"><a class="docs-heading-anchor" href="#Land-Cover-Indices">Land Cover Indices</a><a id="Land-Cover-Indices-1"></a><a class="docs-heading-anchor-permalink" href="#Land-Cover-Indices" title="Permalink"></a></h1><p>Land cover indices are used to highlight different types of land cover. For example, the Modified Normalized Difference Water Index (MNDWI) is used to highlight water while diminishing built-up areas. Each index is expressed as a function of two or more bands. <code>RemoteSensingToolbox</code> can automatically select the appropriate bands for a given index by providing the <code>Bandset</code> to which the image belongs. Lower-level variants are also provided for manual band selection.</p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.mndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>mndwi</code></a></td><td style="text-align: left">The Modified Normalized Difference Index is used to highlight surface water features.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.nbri-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>nbri</code></a></td><td style="text-align: left">The Normalized Burn Ratio Index is used to emphasize burned areas.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.ndbi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>ndbi</code></a></td><td style="text-align: left">The Normalized Difference Built-Up Index is used to empasize urban areas.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.ndmi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>ndmi</code></a></td><td style="text-align: left">The Normalized Difference Moisture Index is used to monitor droughts and dry areas.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.ndvi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>ndvi</code></a></td><td style="text-align: left">The Normalized Difference Vegetation Index is used to emphasize vegetation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.ndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>ndwi</code></a></td><td style="text-align: left">The Normalized Difference Water Index is used to highlight water bodies and vegetation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.savi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>savi</code></a></td><td style="text-align: left">The Soil Adjusted Vegetation Index is an adjusted variant of NDVI.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.mndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.mndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.mndwi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mndwi(green::AbstractRaster, swir::AbstractRaster)
mndwi(stack::AbstractRasterStack, ::Type{AbstractBandset})</code></pre><p>Compute the Modified Normalised Difference Water Index (Xu 2006).</p><p>MNDWI = (green - swir) / (green + swir)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.nbri-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.nbri-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.nbri</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">nbri(nir::AbstractRaster, swir2::AbstractRaster)
nbri(stack::AbstractRasterStack, ::Type{AbstractBandset})</code></pre><p>Compute the Normalized Burn Ratio Index.</p><p>NBRI is used to emphasize burned areas.</p><p>NBRI = (nir - swir2) / (nir + swir2)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L112-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.ndbi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.ndbi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.ndbi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndbi(swir1::AbstractRaster, nir::AbstractRaster)
ndbi(stack::AbstractRasterStack, ::Type{AbstractBandset})</code></pre><p>Compute the The Normalized Difference Built-up Index</p><p>NDBI is used to emphasize urban and built-up areas.</p><p>NDBI = (swir1 - nir) / (swir1 + nir)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L135-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.ndmi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.ndmi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.ndmi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndmi(nir::AbstractRaster, swir1::AbstractRaster)
ndmi(stack::AbstractRasterStack, ::Type{AbstractBandset})</code></pre><p>Compute the Normalized Difference Moisture Index.</p><p>NDMI is sensitive to the moisture levels in vegetation. It is used to monitor droughts and fuel levels in fire-prone areas.</p><p>NDMI = (nir - swir1) / (nir + swir1)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L89-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.ndvi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.ndvi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.ndvi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndvi(nir::AbstractRaster, red::AbstractRaster)
ndvi(stack::AbstractRasterStack, ::Type{AbstractBandset})</code></pre><p>Compute the Normalized Difference Vegetation Index.</p><p>NDVI = (nir - red) / (nir + red)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L43-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.ndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.ndwi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.ndwi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ndwi(green::AbstractRaster, nir::AbstractRaster)
ndwi(stack::AbstractRasterStack, ::Type{AbstractBandset})</code></pre><p>Compute the Normalized Difference Water Index (McFeeters 1996).</p><p>NDWI = (green - nir) / (green + nir)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L22-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.savi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}" href="#RemoteSensingToolbox.savi-Tuple{Rasters.AbstractRaster, Rasters.AbstractRaster}"><code>RemoteSensingToolbox.savi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">savi(nir::AbstractRaster, red::AbstractRaster; L=0.33)
savi(stack::AbstractRasterStack, ::Type{AbstractBandset}; L=0.33)</code></pre><p>Compute the Soil Adjusted Vegetation Index (Huete 1988).</p><p>SAVI is a vegetation index which attempts to minimize soil brightness influences by introducing a soil-brightness correction factor (L).</p><p>L represents the amount of green vegetation cover, which is set to 0.33 by default.</p><p>SAVI = ((nir - red) / (nir + red + L)) * (1 + L)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/indices.jl#L64-L75">source</a></section></article><h1 id="Spectral-Analysis"><a class="docs-heading-anchor" href="#Spectral-Analysis">Spectral Analysis</a><a id="Spectral-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Spectral-Analysis" title="Permalink"></a></h1><p>Spectral analysis involves studying the relationships between different materials and their corresponding spectral signatures. Due to the interactions between light and matter, each signature is unique to the material that emitted it. We can exploit this fact to assign a label to each pixel, or even estimate the abundances of different materials at a sub-pixel level.</p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Spectral.extract_signatures-Tuple{Rasters.AbstractRasterStack, Any, Symbol}"><code>extract_signatures</code></a></td><td style="text-align: left">Extract spectral signatures and their corresponding land cover type.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Spectral.plot_signatures-Tuple"><code>plot_signatures</code></a></td><td style="text-align: left">Plot the spectral signatures for each type of land cover specified in a shapefile.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Spectral.plot_signatures!-Tuple"><code>plot_signatures!</code></a></td><td style="text-align: left">The mutating version of <code>plot_signatures</code>. Writes to a <code>Makie.Axis</code> object.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Spectral.extract_signatures-Tuple{Rasters.AbstractRasterStack, Any, Symbol}" href="#RemoteSensingToolbox.Spectral.extract_signatures-Tuple{Rasters.AbstractRasterStack, Any, Symbol}"><code>RemoteSensingToolbox.Spectral.extract_signatures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">extract_signatures(stack::AbstractRasterStack, shp, label::Symbol; drop_missing=true)</code></pre><p>Extract signatures from the given <code>RasterStack</code> within regions specified by a provided shapefile.</p><p><strong>Parameters</strong></p><ul><li><code>stack</code>: The <code>RasterStack</code> from which to extract spectral signatures.</li><li><code>shp</code>: A <code>Tables.jl</code> compatible object containing a :geometry column storing a <code>GeoInterface.jl</code> compatible geometry and a label column indicating the land cover type.</li><li><code>label</code>: The column in <code>shp</code> corresponding to the land cover type.</li><li><code>drop_missing</code>: Drop all rows with at least one missing value in either the bands or labels (default = true).</li></ul><p><strong>Returns</strong></p><p>A <code>RasterTable</code> consisting of rows for each observed signature and columns storing the respective bands and land cover type.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; landsat = @pipe read_bands(Landsat8, &quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;) |&gt; dn_to_reflectance(Landsat8, _)

julia&gt; shp = Shapefile.Table(&quot;data/landcover/landcover.shp&quot;) |&gt; DataFrame

julia&gt; extract_signatures(landsat, shp, :C_name) |&gt; DataFrame
1925×8 DataFrame
  Row │ B1         B2         B3        B4        B5        B6        B7        label     
      │ Float32    Float32    Float32   Float32   Float32   Float32   Float32   String    
──────┼───────────────────────────────────────────────────────────────────────────────────
    1 │ 0.057235   0.10547    0.188932  0.24847   0.513405  0.315323  0.166107  Hail Scar
    2 │ 0.0574     0.105415   0.188712  0.24946   0.513735  0.317908  0.167593  Hail Scar
    3 │ 0.0584175  0.107175   0.19182   0.253887  0.515577  0.319585  0.168087  Hail Scar
    4 │ 0.0583625  0.10723    0.190995  0.253393  0.514615  0.317715  0.167097  Hail Scar
    5 │ 0.05806    0.10745    0.189895  0.250368  0.50774   0.315048  0.165475  Hail Scar
  ⋮   │     ⋮          ⋮         ⋮         ⋮         ⋮         ⋮         ⋮          ⋮
 1921 │ 0.077145   0.112097   0.17081   0.19677   0.25705   0.320877  0.28015   Built Up
 1922 │ 0.10712    0.136765   0.19666   0.225068  0.268655  0.33284   0.302288  Built Up
 1923 │ 0.0856425  0.123235   0.185853  0.211675  0.273     0.373623  0.351072  Built Up
 1924 │ 0.088145   0.119578   0.17059   0.204442  0.27487   0.355857  0.325553  Built Up
 1925 │ 0.0518725  0.0816275  0.148673  0.15189   0.28774   0.309218  0.29786   Built Up
                                                                         1915 rows omitted</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Spectral/analysis.jl#L1-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Spectral.plot_signatures!-Tuple" href="#RemoteSensingToolbox.Spectral.plot_signatures!-Tuple"><code>RemoteSensingToolbox.Spectral.plot_signatures!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_signatures!(ax, bandset::Type{&lt;:AbstractBandset}, raster::AbstractRasterStack, shp, label::Symbol; colors=wong_colors())</code></pre><p>Plot spectral signatures for each land cover type specified in a given shapefile by mutating a <code>Makie.Axis</code> object.</p><p>Accepts the same keywords as <code>Makie.lines!</code>.</p><p><strong>Parameters</strong></p><ul><li><code>ax</code>: The <code>Makie.Axis</code> into which we want to draw our plot.</li><li><code>bandset</code>: The sensor type to which the signatures belong.</li><li><code>raster</code>: A <code>RasterStack</code> from which we want to extract the spectral signatures.</li><li><code>shp</code>: A <code>Tables.jl</code> compatible object containing a :geometry column storing a <code>GeoInterface.jl</code> compatible geometry and a label column indicating the land cover type.</li><li><code>label</code>: The column in <code>shp</code> corresponding to the land cover type.</li><li><code>colors</code>: The color scheme used by the plot.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Read Images And Convert DNs To Reflectance
landsat = @pipe read_bands(Landsat8, &quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;) |&gt; dn_to_reflectance(Landsat8, _)
sentinel = @pipe read_bands(Sentinel2, &quot;data/T11UPT_20200804T183919/R60m/&quot;) |&gt; dn_to_reflectance(Sentinel2, _)

# Load Shapefile
shp = Shapefile.Table(&quot;data/landcover/landcover.shp&quot;) |&gt; DataFrame

# Create Axes
fig = Figure();
ax1 = Axis(fig[1,1], xlabel=&quot;Wavelength (nm)&quot;, ylabel=&quot;Reflectance&quot;, title=&quot;Landsat Signatures&quot;);
ax2 = Axis(fig[2,1], xlabel=&quot;Wavelength (nm)&quot;, ylabel=&quot;Reflectance&quot;, title=&quot;Sentinel Signatures&quot;);

# Plot Signatures
plot_signatures!(ax1, Landsat8, landsat, shp, :MC_name; colors=cgrad(:tab10))
plot_signatures!(ax2, Sentinel2, sentinel, shp, :MC_name; colors=cgrad(:tab10))

# Add Legend
Legend(fig[:,2], ax1)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Spectral/analysis.jl#L91-L127">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Spectral.plot_signatures-Tuple" href="#RemoteSensingToolbox.Spectral.plot_signatures-Tuple"><code>RemoteSensingToolbox.Spectral.plot_signatures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_signatures(bandset::Type{&lt;:AbstractBandset}, raster::AbstractRasterStack, shp, label::Symbol; colors=wong_colors())</code></pre><p>Plot the spectral signatures for one or more land cover types.</p><p><strong>Parameters</strong></p><ul><li><code>bandset</code>: The sensor type to which the signatures belong.</li><li><code>raster</code>: A <code>RasterStack</code> from which we want to extract the spectral signatures.</li><li><code>shp</code>: A <code>Tables.jl</code> compatible object containing a :geometry column storing a <code>GeoInterface.jl</code> compatible geometry and a label column indicating the land cover type.</li><li><code>label</code>: The column in <code>shp</code> corresponding to the land cover type.</li><li><code>colors</code>: The color scheme used by the plot.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Read Landsat And Convert DNs To Reflectance
landsat = @pipe read_bands(Landsat8, &quot;data/LC08_L2SP_043024_20200802_20200914_02_T1/&quot;) |&gt; dn_to_reflectance(Landsat8, _)

# Load Shapefile
shp = Shapefile.Table(&quot;data/landcover/landcover.shp&quot;) |&gt; DataFrame

# Plot Signatures
plot_signatures(Landsat8, landsat, shp, :MC_name)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Spectral/analysis.jl#L63-L86">source</a></section></article><h1 id="Principal-Component-Analysis"><a class="docs-heading-anchor" href="#Principal-Component-Analysis">Principal Component Analysis</a><a id="Principal-Component-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Principal-Component-Analysis" title="Permalink"></a></h1><p>Principal Component Analysis (PCA) is typically used to reduce the dimensionality of data. In the case of remote sensing, we are interested in reducing the number of bands we need to store while retaining as much information as possible. PCA rotates the bands into a new coordinate space where each band, called a principal component, is orthogonal to and uncorrelated with every other component. By convention, we order the bands in the transformed image in terms of their explained variance, such that the nth component accounts for more variance than any component after it.</p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.fit_pca"><code>fit_pca</code></a></td><td style="text-align: left">Fit a PCA transformation to the provided data and return the analytical results.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.forward_pca"><code>forward_pca</code></a></td><td style="text-align: left">Run a previously learned PCA transformation on a given <code>Raster</code> or <code>RasterStack</code>.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.inverse_pca"><code>inverse_pca</code></a></td><td style="text-align: left">Invert a PCA transformation on a previously transformed <code>Raster</code> or <code>RasterStack</code>.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.projection"><code>projection</code></a></td><td style="text-align: left">Return the projection matrix for a fitted PCA transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.explained_variance"><code>explained_variance</code></a></td><td style="text-align: left">Return the explained variance for each component of a fitted PCA transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.cumulative_variance"><code>cumulative_variance</code></a></td><td style="text-align: left">Return the cumulative variance for each component of a fitted PCA transformation.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.PCA" href="#RemoteSensingToolbox.Transformations.PCA"><code>RemoteSensingToolbox.Transformations.PCA</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Remotely sensed imagery typically consists of anywhere from a few to several hundred spectral bands. These bands are often highly correlated due to occupying  similar spectral regions. Principal Component Analysis (PCA) is used in remote sensing to:</p><ol><li><p>Create a smaller dataset from multiple bands, while retaining as much of the original spectral information as possible. The new image will consist of several uncorrelated PC bands.</p></li><li><p>Reveal complex relationships among spectral features.</p></li><li><p>Distinguish between characteristics that are prevalent in most bands and those that are specific to a few.</p></li></ol><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; desis = read_bands(DESIS, &quot;data/DESIS-HSI-L2A-DT0884573241_001-20200601T234520-V0210/&quot;);

julia&gt; pca = fit_pca(desis, stats_fraction=0.1)
PCA(dimensions=235) 

Projection Matrix:
235×235 Matrix{Float32}:
  0.0001  0.0032   0.0016  -0.0094   0.0147  -0.0151  -0.0049   0.0163  …   0.0038  -0.0012   0.0008  -0.0032  -0.0007   0.0053
  0.0005  0.0099   0.0042  -0.0244   0.0517  -0.0335  -0.0185   0.0441     -0.0023  -0.0016  -0.0008   0.001    0.0003  -0.0004
  0.0003  0.015    0.0053  -0.037    0.133   -0.0443  -0.0271   0.1381     -0.0006   0.0004   0.0002  -0.0006   0.0003   0.0002
  0.0003  0.019    0.0071  -0.0385   0.1369  -0.0393  -0.0148   0.0949     -0.0008   0.0006  -0.0001  -0.0006   0.0001  -0.0006
  0.0003  0.0232   0.0073  -0.0419   0.1469  -0.037    0.0041   0.0839     -0.0013  -0.0025   0.0005   0.0007   0.0007  -0.0002
  0.0001  0.0267   0.0077  -0.0461   0.1713  -0.0325   0.0246   0.0861  …   0.0013  -0.0007  -0.0007   0.0024  -0.0012  -0.0028
  0.0001  0.0295   0.0083  -0.0476   0.1695  -0.0348   0.0319   0.0827     -0.0015  -0.0016  -0.0029   0.0004   0.0019  -0.0009
 -0.0001  0.0318   0.0086  -0.0482   0.17    -0.0352   0.0414   0.0784      0.0005  -0.002    0.0003   0.0021  -0.0003  -0.0022
  ⋮                                           ⋮                         ⋱            ⋮                                  
 -0.0663  0.0371  -0.1728   0.0196  -0.0508  -0.1394  -0.0054  -0.0226     -0.0003   0.0001   0.0007  -0.0009  -0.0002   0.0004
 -0.0658  0.0365  -0.1679   0.0204  -0.0717  -0.1474  -0.0087  -0.0193     -0.0006   0.0002   0.0004  -0.0      0.0004  -0.0001
 -0.0655  0.0352  -0.163    0.0193  -0.0767  -0.1511  -0.012   -0.0232     -0.0005   0.0002  -0.0004  -0.0001  -0.0002   0.0005
 -0.066   0.035   -0.1618   0.0193  -0.0859  -0.1503  -0.0055  -0.0177  …   0.0003   0.0005   0.001   -0.0      0.0003  -0.0002
 -0.067   0.035   -0.1619   0.019   -0.0745  -0.1466   0.0245  -0.0228     -0.0001   0.0002  -0.0002  -0.0001  -0.0002   0.0005
 -0.0679  0.0343  -0.1601   0.0176  -0.0721  -0.139    0.0328  -0.0286      0.0003   0.0003   0.0005  -0.0      0.0003   0.0002
 -0.0682  0.0337  -0.1588   0.0151  -0.0458  -0.1242   0.0549  -0.0315      0.0002  -0.0002  -0.0003   0.0002  -0.0003  -0.0005
 -0.0711  0.0343  -0.1601   0.012   -0.0612  -0.1804   0.2151  -0.0971      0.0004  -0.0001   0.0      0.0003   0.0     -0.0003

Importance of Components:
  Cumulative Variance: 0.8782  0.9493  0.9809  0.9869  0.9889  0.9906  0.9915  0.9922  0.9928  ...  1.0
  Explained Variance: 0.8782  0.0711  0.0316  0.006  0.0021  0.0017  0.0009  0.0007  0.0006  ...  0.0

julia&gt; transformed = forward_pca(pca, desis, 12);

julia&gt; size(transformed)
(1131, 1120, 12)

julia&gt; recovered = inverse_pca(pca, transformed);

julia&gt; size(recovered)
(1131, 1120, 235)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L1-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.fit_pca" href="#RemoteSensingToolbox.Transformations.fit_pca"><code>RemoteSensingToolbox.Transformations.fit_pca</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fit_pca(raster; method=:cov, stats_fraction=1.0)</code></pre><p>Fit a Principal Component Analysis (PCA) transformation to the given <code>AbstractRasterStack</code> or <code>AbstractRaster</code>.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The <code>AbstractRaster</code> or <code>AbstractRasterStack</code> on which to fit the PCA transformation.</li><li><code>method</code>: Either <code>:cov</code> or <code>:cor</code>, depending on whether we want to use the covariance or correlation matrix for computing the PCA rotation.</li><li><code>stats_fraction</code>: The fraction of pixels to use when computing the covariance (or correlation) matrix. Values less than 1.0 will speed up computation at the cost of precision.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L105-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.forward_pca" href="#RemoteSensingToolbox.Transformations.forward_pca"><code>RemoteSensingToolbox.Transformations.forward_pca</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">forward_pca(transformation::PCA, raster, components::Int)</code></pre><p>Perform a forward Principal Component Analysis (PCA) transformation on the given raster, retaining only the specified number of components.</p><p><strong>Parameters</strong></p><ul><li><code>transformation</code>: A previously fitted PCA transformation.</li><li><code>raster</code>: The <code>AbstractRaster</code> or <code>AbstractRasterStack</code> on which to perform the PCA transformation.</li><li><code>components</code>: The number of bands to retain in the transformed image. All band numbers exceeding this value will be discarded.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L128-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.inverse_pca" href="#RemoteSensingToolbox.Transformations.inverse_pca"><code>RemoteSensingToolbox.Transformations.inverse_pca</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">inverse_pca(transformation::PCA, raster::AbstractRaster)</code></pre><p>Perform an inverse Principal Component Analysis (PCA) transformation to recover the original image.</p><p><strong>Parameters</strong></p><ul><li><code>transformation</code>: A previously fitted PCA transformation.</li><li><code>raster</code>: An <code>AbstractRaster</code> representing a previously transformed image. The number of bands should be less than or equal to that of the original image.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L155-L163">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.projection" href="#RemoteSensingToolbox.Transformations.projection"><code>RemoteSensingToolbox.Transformations.projection</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">projection(x::PCA)</code></pre><p>Return the projection matrix for the fitted PCA transformation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L61-L65">source</a></section><section><div><pre><code class="nohighlight hljs">projection(x::MNF)</code></pre><p>Return the projection matrix for the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.explained_variance" href="#RemoteSensingToolbox.Transformations.explained_variance"><code>RemoteSensingToolbox.Transformations.explained_variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">explained_variance(x::PCA)</code></pre><p>Return the explained variance associated with each principal component of the fitted PCA transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.cumulative_variance" href="#RemoteSensingToolbox.Transformations.cumulative_variance"><code>RemoteSensingToolbox.Transformations.cumulative_variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cumulative_variance(x::PCA)</code></pre><p>Return the cumulative variance associated with each principal component of the fitted PCA transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/pca.jl#L68-L72">source</a></section></article><h1 id="Minimum-Noise-Fraction"><a class="docs-heading-anchor" href="#Minimum-Noise-Fraction">Minimum Noise Fraction</a><a id="Minimum-Noise-Fraction-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Noise-Fraction" title="Permalink"></a></h1><p>The Minimum Noise Fraction (MNF) transformation is used to separate noise from data along the spectral dimension. This method is typically used with hyperspectral imagery, both as a means of dimension reduction and for noise removal. The transformed image will have its bands placed in descending order according to their Signal to Noise Ratio (SNR). The result is that the noise becomes concentrated in the higher bands, which can then be removed by either applying a standard image denoising algorithm or dropping them altogether.</p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.fit_mnf"><code>fit_mnf</code></a></td><td style="text-align: left">Fit an MNF transform to the provided data and return the analytical results.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.forward_mnf"><code>forward_mnf</code></a></td><td style="text-align: left">Run a previously learned MNF transformation on a given <code>Raster</code> or <code>RasterStack</code>.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.inverse_mnf"><code>inverse_mnf</code></a></td><td style="text-align: left">Invert an MNF transformation on a previously transformed raster.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.noise_cov"><code>noise_cov</code></a></td><td style="text-align: left">Return the noise covariance matrix for a fitted MNF transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.data_cov"><code>data_cov</code></a></td><td style="text-align: left">Return the data covariance matrix for a fitted MNF transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.snr"><code>snr</code></a></td><td style="text-align: left">Return the SNR for each principal component of a fitted  MNF transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.eigenvalues"><code>eigenvalues</code></a></td><td style="text-align: left">Return eigenvalues for each principal component of a fitted MNF transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.cumulative_snr"><code>cumulative_snr</code></a></td><td style="text-align: left">Return the cumulative SNR for each PC of a fitted MNF transformation.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.Transformations.cumulative_eigenvalues"><code>cumulative_eigenvalues</code></a></td><td style="text-align: left">Return the cumulative eigenvalues for each PC of a fitted MNF transformation.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.MNF" href="#RemoteSensingToolbox.Transformations.MNF"><code>RemoteSensingToolbox.Transformations.MNF</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The Minimum Noise Fraction (MNF) transform is a linear transformation used to reduce the spectral dimensionality of image data and  segregate noise. MNF consists of two separate principal component rotations. The first rotation uses the principal components  of the noise covariance matrix to decorrelate and rescale the noise (a process known as noise whitening), resulting in a transformed  image in which the noise has unit variance and no band-to-band correlations. The second rotation is a standard PCA rotation  applied to the noise-whitened image.</p><p>The bands in the transformed image will be ordered according to their Signal to Noise Ratio (SNR), with the highest SNR being  placed first. The result is that the noise becomes concentrated in the higher bands. Thus, the transform can be used to separate  noise from data by performing a forward transform, determining which bands contain coherent images, and running an inverse  transform after either discarding or denoising the remaining bands. The number of bands to keep in the inverse transform can be determined by a number  of methods. The simplest approach is to look at the sorted transformed bands and threshold at the band where no recognizable  features can be observed. An alternative method is to threshold at a desired cumulative SNR.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; desis = read_bands(DESIS, &quot;data/DESIS-HSI-L2A-DT0884573241_001-20200601T234520-V0210/&quot;);

julia&gt; roi = @view desis[X(1019:1040), Y(550:590)];

julia&gt; mnf = fit_mnf(desis, roi)
MNF(dimensions=235) 

Projection Matrix:
235×235 Matrix{Float32}:
 -2.135    2.3502   0.3612   0.5912   0.5217  -0.0917   0.0043  …   0.0002  -0.0001  -0.0004  -0.0004  -0.0      0.0004
 -0.0959   0.0422  -0.0047  -0.2362  -0.3962  -0.2313  -0.1685      0.0001   0.0004   0.0002   0.0003   0.0001  -0.0001
  0.0043   0.0058  -0.0032   0.0023  -0.0061  -0.0048   0.0028     -0.0001   0.0001  -0.0001  -0.0      0.0      0.0001
  0.0039   0.002   -0.002    0.0012  -0.0032  -0.004    0.006      -0.0006   0.0002  -0.0001  -0.0     -0.0003  -0.0
  0.0024   0.0018  -0.003   -0.0008   0.0038  -0.0003   0.0057      0.0009  -0.0007   0.0002  -0.0012   0.0012  -0.0
  0.0019  -0.003    0.0038  -0.002   -0.0001  -0.0003  -0.0     …   0.0021   0.0009  -0.0004   0.0014  -0.0011  -0.0006
  0.0047   0.0055   0.006   -0.0014  -0.0011   0.0021   0.0053     -0.0035   0.0006   0.0002  -0.0026   0.0014   0.0019
  0.0072   0.0042   0.0012   0.0016   0.0011  -0.002   -0.001       0.0     -0.0026   0.0012   0.0034  -0.0006  -0.0009
  ⋮                                            ⋮                ⋱            ⋮                                  
 -0.0004  -0.0012   0.0007   0.0006  -0.0      0.0002   0.0005      0.0005   0.0002  -0.0004  -0.0002  -0.0001   0.0001
 -0.0014  -0.0005  -0.0005   0.0019  -0.0002  -0.0005   0.0017      0.0003   0.0005   0.0      0.0004   0.0005   0.0
 -0.0004   0.0008  -0.0003   0.0013   0.0004   0.0014   0.0004      0.0002  -0.0001   0.0002   0.0001  -0.0002  -0.0002
 -0.0008  -0.0015   0.0021  -0.0004  -0.0004   0.0012   0.0006  …  -0.0011   0.0002  -0.0007   0.0001   0.0005  -0.0001
  0.0008  -0.0004   0.0009   0.0019  -0.0022  -0.0014   0.0013      0.0003  -0.0001  -0.0003  -0.0      0.0003   0.0002
  0.0005   0.0006  -0.0022  -0.0003   0.0     -0.0022   0.0016     -0.001    0.0002  -0.0003   0.0003  -0.0005   0.0005
  0.001   -0.0005  -0.0007   0.0025  -0.0019   0.0005   0.0015      0.0002  -0.0005   0.0     -0.0005   0.0002  -0.0002
 -0.0003   0.0002  -0.0021  -0.0008  -0.0012   0.0003   0.0003     -0.0001  -0.0      0.0001   0.0      0.0      0.0

Component Statistics:
  Eigenvalues: 7975.439  4040.6348  2092.866  717.8178  468.5496  247.5029  202.2003  176.8452  87.3302  ...  0.3602
  Cumulative Eigenvalues: 0.4779  0.72  0.8454  0.8884  0.9165  0.9313  0.9434  0.954  0.9593  ...  1.0
  Explained SNR: 7974.4385  4039.6353  2091.8635  716.8176  467.55  246.5022  201.1985  175.845  86.3301  ...  -0.6399
  Cumulative SNR: 0.4839  0.729  0.856  0.8995  0.9278  0.9428  0.955  0.9657  0.9709  ...  0.9985

julia&gt; transformed = forward_mnf(mnf, desis, 12);

julia&gt; size(transformed)
(1131, 1120, 12)

julia&gt; recovered = inverse_mnf(mnf, transformed);

julia&gt; size(recovered)
(1131, 1120, 235)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L1-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.fit_mnf" href="#RemoteSensingToolbox.Transformations.fit_mnf"><code>RemoteSensingToolbox.Transformations.fit_mnf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fit_mnf(raster, noise_sample; smooth=true)</code></pre><p>Fit a Minimum Noise Fraction (MNF) transformation to the given <code>AbstractRasterStack</code> or <code>AbstractRaster</code>.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The <code>AbstractRaster</code> or <code>AbstractRasterStack</code> on which to fit the MNF transformation.</li><li><code>noise_sample</code>: A homogenous (spectrally uniform) region extracted from <code>raster</code> for calculating the noise covariance matrix.</li><li><code>smooth</code>: The MNF transform cannot be computed if any band in <code>noise_sample</code> has zero variance. To correct this, you may wish to introduce a small smoothing term (true by default).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L157-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.forward_mnf" href="#RemoteSensingToolbox.Transformations.forward_mnf"><code>RemoteSensingToolbox.Transformations.forward_mnf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">forward_mnf(transformation::MNF, raster, components::Int)
forward_mnf(transformation::MNF, sigs::Matrix, components::Int)</code></pre><p>Perform a forward Minimum Noise Fraction (MNF) rotation on the given raster or signatures, retaining only the specified number of components.</p><p><strong>Parameters</strong></p><ul><li><code>transformation</code>: A previously fitted MNF transformation.</li><li><code>raster</code>: The <code>AbstractRaster</code> or <code>AbstractRasterStack</code> on which to perform the MNF transformation.</li><li><code>sigs</code>: An n x b matrix of spectral signatures where n is the number of signatures and b is the number of bands.</li><li><code>components</code>: The number of bands to retain in the transformed image. All band numbers exceeding this value will be discarded.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L171-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.inverse_mnf" href="#RemoteSensingToolbox.Transformations.inverse_mnf"><code>RemoteSensingToolbox.Transformations.inverse_mnf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">inverse_mnf(transformation::MNF, raster::AbstractRaster)
inverse_mnf(transformation::MNF, sigs::Matrix)</code></pre><p>Perform an inverse Minimum Noise Fraction (MNF) transformation to recover the original image or signatures.</p><p><strong>Parameters</strong></p><ul><li><code>transformation</code>: A previously fitted MNF transformation.</li><li><code>raster</code>: An <code>AbstractRaster</code> representing a previously transformed image. The number of bands should be less than or equal to that of the original image.</li><li><code>sigs</code>: An n x p matrix of transformed signatures where n is the number of signatures and p is the number of retained components.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L209-L219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.noise_cov" href="#RemoteSensingToolbox.Transformations.noise_cov"><code>RemoteSensingToolbox.Transformations.noise_cov</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">noise_cov(x::MNF)</code></pre><p>Return the noise covariance matrix for the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L68-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.data_cov" href="#RemoteSensingToolbox.Transformations.data_cov"><code>RemoteSensingToolbox.Transformations.data_cov</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data_cov(x::MNF)</code></pre><p>Return the data covariance matrix for the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.snr" href="#RemoteSensingToolbox.Transformations.snr"><code>RemoteSensingToolbox.Transformations.snr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">snr(x::MNF)</code></pre><p>Return the estimated SNR associated with each principal components of the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L106-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.eigenvalues" href="#RemoteSensingToolbox.Transformations.eigenvalues"><code>RemoteSensingToolbox.Transformations.eigenvalues</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">eigenvalues(x::MNF)</code></pre><p>Return the eigenvalues associated with each principal components of the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.cumulative_snr" href="#RemoteSensingToolbox.Transformations.cumulative_snr"><code>RemoteSensingToolbox.Transformations.cumulative_snr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cumulative_snr(x::MNF)</code></pre><p>Return the cumulative SNR associated with each principal components of the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L116-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.Transformations.cumulative_eigenvalues" href="#RemoteSensingToolbox.Transformations.cumulative_eigenvalues"><code>RemoteSensingToolbox.Transformations.cumulative_eigenvalues</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cumulative_eigenvalues(x::MNF)</code></pre><p>Return the cumulative eigenvalues associated with each principal components of the fitted MNF transform.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/Transformations/mnf.jl#L96-L100">source</a></section></article><h1 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h1><p><code>RemoteSensingToolbox</code> provides several utility functions for modifying and processing remotely sensed data.</p><table><tr><th style="text-align: left"><strong>Method</strong></th><th style="text-align: left"><strong>Description</strong></th></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.mask_pixels-Tuple{Rasters.AbstractRaster, Any}"><code>mask_pixels</code></a></td><td style="text-align: left">Remove all pixels in a raster covered by a provided mask.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.mask_pixels!-Tuple{Rasters.AbstractRaster, Any}"><code>mask_pixels!</code></a></td><td style="text-align: left">The mutating form of <code>mask_pixels</code>.</td></tr><tr><td style="text-align: left"><a href="#RemoteSensingToolbox.tocube-Tuple{Rasters.RasterStack}"><code>tocube</code></a></td><td style="text-align: left">Convert a multi-layer <code>RasterStack</code> into a multiband <code>Raster</code>.</td></tr></table><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.create_tiles-Tuple{Any, Tuple{Int64, Int64}}" href="#RemoteSensingToolbox.create_tiles-Tuple{Any, Tuple{Int64, Int64}}"><code>RemoteSensingToolbox.create_tiles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_tiles(raster, tile::Tuple{Int,Int}; stride=tile)</code></pre><p>Slice the given raster into tiles with size <code>tile</code>.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The raster to be cut into tiles.</li><li><code>tile</code>: The size of the generated tiles in terms of width x height.</li><li><code>stride</code>: The distance between the top-left corner of each tile. Is equal to <code>tile</code> by default, which produces non-overlapping tiles.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/preprocessing.jl#L39-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.encode-Tuple{Rasters.AbstractRaster, Any}" href="#RemoteSensingToolbox.encode-Tuple{Rasters.AbstractRaster, Any}"><code>RemoteSensingToolbox.encode</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">encode(raster::AbstractRaster, type; missingval=typemax(type))</code></pre><p>Encodes a raster into the provided type.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The <code>AbstractRaster</code> or <code>AbstractRasterStack</code> to be encoded.</li><li><code>type</code>: The type to encode as. Common values include <code>UInt16</code>, <code>Int16</code>, and <code>Float32</code>.</li><li><code>missingval</code>: The value to use to denote missing pixels. Set to the maximum value of <code>type</code> by default.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/preprocessing.jl#L95-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.mask_pixels!-Tuple{Rasters.AbstractRaster, Any}" href="#RemoteSensingToolbox.mask_pixels!-Tuple{Rasters.AbstractRaster, Any}"><code>RemoteSensingToolbox.mask_pixels!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask_pixels!(raster, mask; invert_mask=false)</code></pre><p>Drop pixels from a raster according to a given mask. The mask and raster must have the same extent and size.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The raster to be masked.</li><li><code>mask</code>: A mask defining which pixels we want to drop. By default, we drop pixels corresponding to mask values of <code>1</code>.</li><li><code>invert_mask</code>: Treat mask values of <code>1</code> as <code>0</code> and vice-versa.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/preprocessing.jl#L76-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.mask_pixels-Tuple{Rasters.AbstractRaster, Any}" href="#RemoteSensingToolbox.mask_pixels-Tuple{Rasters.AbstractRaster, Any}"><code>RemoteSensingToolbox.mask_pixels</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask_pixels(raster, mask; invert_mask=false)</code></pre><p>Drop pixels from a raster according to a given mask. The mask and raster must have the same extent and size.</p><p><strong>Parameters</strong></p><ul><li><code>raster</code>: The raster to be masked.</li><li><code>mask</code>: A mask defining which pixels we want to drop. By default, we drop pixels corresponding to mask values of <code>1</code>.</li><li><code>invert_mask</code>: Treat mask values of <code>1</code> as <code>0</code> and vice-versa.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/preprocessing.jl#L57-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RemoteSensingToolbox.tocube-Tuple{Rasters.RasterStack}" href="#RemoteSensingToolbox.tocube-Tuple{Rasters.RasterStack}"><code>RemoteSensingToolbox.tocube</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tocube(rs::RasterStack; layers=names(rs))
tocube(rs::AbstractBandset; layers=names(rs))</code></pre><p>Transform the multi-layer <code>RasterStack</code> to a multi-band raster.</p><p><strong>Parameters</strong></p><ul><li><code>X</code>: The <code>RasterStack</code> or <code>AbstractBandset</code> to be transformed into a multi-band raster.</li><li><code>layers</code>: The layers to include in the new raster.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; landsat = read_bands(Landsat8, &quot;LC08_L2SP_043024_20200802_20200914_02_T1/&quot;);

julia&gt; tocube(landsat)
7821×7921×7 Raster{Float32,3} B1 with dimensions: 
  X Projected{Float64} LinRange{Float64}(493785.0, 728385.0, 7821) ForwardOrdered Regular Points crs: WellKnownText,
  Y Projected{Float64} LinRange{Float64}(5.84638e6, 5.60878e6, 7921) ReverseOrdered Regular Points crs: WellKnownText,
  Band Categorical{Int64} 1:7 ForwardOrdered
extent: Extent(X = (493785.0, 728385.0), Y = (5.608785e6, 5.846385e6), Band = (1, 7))
missingval: 0.0f0
crs: PROJCS[&quot;WGS 84 / UTM zone 11N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-117],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32611&quot;]]
parent:
[:, :, 1]
           5.84638e6  5.84636e6  5.84632e6  5.8463e6  5.84626e6  …  5.60894e6  5.6089e6  5.60888e6  5.60884e6  5.60882e6  5.60878e6
 493785.0  0.0        0.0        0.0        0.0       0.0           0.0        0.0       0.0        0.0        0.0        0.0
      ⋮                                               ⋮          ⋱                                             ⋮          
 728355.0  0.0        0.0        0.0        0.0       0.0           0.0        0.0       0.0        0.0        0.0        0.0
 728385.0  0.0        0.0        0.0        0.0       0.0           0.0        0.0       0.0        0.0        0.0        0.0
[and 6 more slices...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JoshuaBillson/RemoteSensingToolbox.jl/blob/907bd417982e74d2d12192b9e9a76f10e883bebf/src/preprocessing.jl#L1-L32">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="quickstart/">Quick Start »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 21 August 2023 22:59">Monday 21 August 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
